<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <meta name="generator" content="<!-- %generator% -->">
  <title><!-- %title% --></title>
  <style>
    body {
      font-family: <!-- %fontname% -->;
      background-color: <!-- %bgcolor% -->;
    }

    table, td, th, #frame {
      border: 0.35mm solid black; /* line weight based on DIN 15 */
    }

    table {
      padding-left: 0;
      border-bottom: 0;
      border-right: 0;
      border-spacing: 0mm;
    }

    td, th {
      border-top: 0;
      border-left: 0;

      overflow: hidden;
      /* display: inline-block; */
      white-space: nowrap;
      font-size: 2.8mm;
    }

    /* Canvas size based on DIN 823 / DIN 6771 / EN ISO 5457 */

    #frame {
      position: relative;
    }

    .A4, .sheetsize_default { /* portrait */
      width: 180mm;
      height: 277mm;
    }

    .A3 { /* landscape */
      width: 390mm;
      height: 277mm;
    }

    .A2 { /* landscape */
      width: 564mm;
      height: 400mm;
    }

    #diagram {
      position: relative;
      top: 0;
      left: 0;
      max-width: 100%;
      height: calc(100% - 13 * 4.25mm);
      /* TODO: auto-adapt to height of title block + BOM table;
               BOM table might be above (A4) or to the left (A3 and larger) of the title block */
      text-align: center;
      vertical-align: middle;
    }

    #diagram svg, #diagram img {
      max-width: 95%;
      max-height: 100%;
      position: relative;
      top: 50%;
      transform: translateY(-50%);
    }

    #titleblock {
      position: absolute;
      bottom: 0mm;
      right: -0mm;
    }

    #titleblock table {
      width: 180mm;
      height: 38.25mm;
    }

    #titleblock tr, #bom tr {
      height: 4.25mm;
    }

    .A4 #bom { /* BOM on top of title block */
      position: absolute;
      bottom: 38.25mm;
      right: 0;
    }

    .A3 #bom, .A2 #bom { /* BOM to the left of title block */
      position: absolute;
      bottom: 0mm;
      left: 0mm;
    }

    #bom table {
      width:180mm;
    }

    #bom th, td {
      text-align: left;
    }

    #bom .bom_col_id {
      text-align: center;
    }

    #bom .bom_col_qty {
      text-align: right;
    }

    .name {
      width: 16mm;
    }

    .date {
      width: 10mm;
    }

    .process {
      width: 18mm;
    }

    .title {
      width: 55mm;
      font-size: 5.6mm;
      text-align: center;
      white-space: normal;
    }

    .company {
      font-size: 10mm;
      text-align: center;
      white-space: normal;
    }

    .revisions_1_name {
      font-size: 5.6mm;
      text-align: center;
      white-space: normal;
    }

    .sheetno {
      width: 12.75mm;
      text-align: center;
    }

  </style>
  <style type="text/css" media="print">

    @page {
      size: auto;
      margin: 0;
    }

    /* TODO: auto-adjust based on portrait (larger margin on left) or landscape (larger margin on top) */
    #page {
      margin: 10mm;
      margin-left: 20mm;
    }

  </style>
</head>
<body>
  <div id="page">
    <div id="frame" class="<!-- %template_sheetsize% -->">

      <div id="diagram">

        <div id="description">
          <!-- %description% -->
        </div>

        <!-- %diagram% -->

        <div id="notes">
          <!-- %notes% -->
        </div>

      </div>

      <div id="bom">
        <!-- %bom_reversed% -->
      </div>

      <div id="titleblock">
        <table>
          <tr>
            <td class="process" colspan="1"></td>
            <td class="date" colspan="2">Date</td>
            <td class="name" colspan="2">Name</td>
            <td class="title" colspan="4" rowspan="3"><!-- %title% --></td>
          </tr>
          <tr>
            <td colspan="1">Developer </td>
            <td colspan="2"><!-- %authors_1_date% --> </td>
            <td colspan="2"><!-- %authors_1_name% --> </td>
          </tr>
          <tr>
            <td colspan="1">Verifier</td>
            <td colspan="2"><!-- %authors_2_date% --> </td>
            <td colspan="2"><!-- %authors_2_name% --> </td>
          </tr>
          <tr>
            <td class="company" colspan="5" rowspan="3"><!-- %company% --></td>
            <td class="revisions_1_name" colspan="3" rowspan="3"><!-- %revisions_1_name% --></td>
            <td class="sheetno" rowspan="2">Sheet<br /><!-- %sheet_current% --></td>
          </tr>
          <tr></tr>
          <tr>
            <td class="sheetno">of <!-- %sheet_total% --></td>
          </tr>
        </table>
      </div> <!-- /titleblock -->

    </div> <!-- /frame -->
  </div> <!-- /page -->
</body>
</html>
